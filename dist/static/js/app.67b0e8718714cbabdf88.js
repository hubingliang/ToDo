webpackJsonp([1],{24:function(t,e){},25:function(t,e){},26:function(t,e){},28:function(t,e,o){function s(t){o(77)}var n=o(7)(o(51),o(86),s,null,null);t.exports=n.exports},51:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(80),n=o.n(s),i=o(82),a=o.n(i),r=o(81),d=o.n(r);e.default={data:function(){return{todo:{year:(new Date).getFullYear(),Cmonth:new Array("J a n u a r y","F e b r u a r y","M a r c h","A p r i l","M a y","J u n e","J u l y","A u g u s t","S e p t e m b e r","O c t o b e r","N o v e m b e r","D e c e m b e r")[(new Date).getMonth()],dates:[],newTodo:"",todolist:[],totalTodoList:[],canadd:!1,day:(new Date).getDate(),weekday:new Array("S u n d a y","M o n d a y","T u e s d a y","W e d n e s d a y","T h u r s d a y","F r i d a y","S a t u r d a y")[(new Date).getDay()]}}},name:"app",components:{todos:a.a,calendar:d.a,background:n.a}}},52:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["todo"]}},53:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["todo"],mounted:function(){this.monthdays(),this.whichDay()},methods:{changeday:function(t){var e=new Date,o=e.getMonth(),s=e.getFullYear();this.todo.day=this.todo.dates[t].date,this.todo.weekday=new Array("S u n d a y","M o n d a y","T u e s d a y","W e d n e s d a y","T h u r s d a y","F r i d a y","S a t u r d a y")[new Date(s,o,this.todo.dates[t].date).getDay()],this.todo.index=this.todo.day-1+this.todo.empty,this.todo.todolist=this.todo.dates[this.todo.index].todolist,console.log(this.todo.todolist.length)},whichDay:function(){for(var t=new Date,e=t.getMonth(),o=t.getFullYear(),s=new Date(o,e,1),n=s.getDay(),i=1;i<n;i++)this.todo.dates.unshift({date:"  "});this.todo.empty=n-1,this.todo.index=this.todo.day-1+this.todo.empty},monthdays:function(){for(var t=new Date,e=t.getMonth()+1,o=t.getFullYear(),s=t.getDate(),n=new Date(o,e,0),i=n.getDate(),a=1,r=1;r<=i;r++)a<s?(this.todo.dates.push({date:""+a,past:!0,todolist:[],finish:!1}),a++):a===s?(this.todo.dates.push({date:""+a,now:!0,todolist:[],finish:!1}),a++):(this.todo.dates.push({date:""+a,past:!1,todolist:[],finish:!1}),a++)}}}},54:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(56),n=o.n(s);e.default={data:function(){return{loginshow:!0,registershow:!1,signInshow:!1,todoshow:!1}},mounted:function(){},created:function(){this.AV()},props:["todo"],methods:{addTodo:function(){var t=this;this.todo.dates[this.todo.index].todolist.push({date:this.todo.day,title:this.todo.newTodo,createdAt:new Date,done:!1}),this.todo.newTodo="",this.todo.todolist=this.todo.dates[this.todo.index].todolist,this.todo.dates[this.todo.index].finish=!0,new AV.Query("AllTodos").find().then(function(e){if(1===t.todo.todolist.length)console.log("save22"),console.log(t.todo.todolist.length),t.saveTodos();else for(var o=0;o<=e.length;o++)0===e.length?(console.log("save"),t.saveTodos()):AV.User.current().attributes.username===e[o].attributes.username?(console.log("update"),t.upDate()):(console.log("save2"),t.saveTodos())})},removeTodo:function(t){var e=this.todo.dates[this.todo.index].todolist.indexOf(t);this.todo.dates[this.todo.index].todolist.splice(e,1),0===this.todo.todolist.length&&(this.todo.dates[this.todo.index].finish=!1),this.upDate()},add:function(){this.todo.canadd=!this.todo.canadd},register:function(){var t=$("#registerUsername").val(),e=$("#registerPassword").val(),o=$("#registerEmail").val(),s=new AV.User;s.setUsername(t),s.setPassword(e),s.setEmail(o),s.signUp().then(function(t){},function(t){alert(n()(t))})},login:function(){var t=this,e=$("#signinEmail").val(),o=$("#signinPassword").val();AV.User.logIn(e,o).then(function(e){t.read()},function(t){210===t.code?alert("用户名密码不匹配"):211===t.code&&alert("用户名不存在")})},getCurrentUser:function(){var t=AV.User.current(),e=t.id,o=t.createdAt;return{id:e,username:t.attributes.username,createdAt:o}},AV:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){AV.init({appId:"iq8VG5dIWuxuOwbw9XGV9aCK-gzGzoHsz",appKey:"RK4buVBs7Q2rxhgE29gVKU66"})}),saveTodos:function(){var t=n()(this.todo.dates[this.todo.index].todolist),e=AV.Object.extend("AllTodos"),o=new e,s=new AV.ACL;s.setReadAccess(AV.User.current(),!0),s.setWriteAccess(AV.User.current(),!0),o.set("content",t),o.set("username",AV.User.current().attributes.username),o.setACL(s),o.save()},upDate:function(){var t=this;new AV.Query("AllTodos").find().then(function(e){for(var o=0;o<e.length;o++)if(AV.User.current().attributes.username===e[o].attributes.username){var s=n()(t.todo.dates[t.todo.index].todolist),i=e[o].id,a=AV.Object.createWithoutData("AllTodos",i);a.set("content",s),a.save()}})},read:function(){var t=this;this.currentUser=this.getCurrentUser();var e=this.todo.empty;if(this.currentUser){new AV.Query("AllTodos").find().then(function(o){for(var s=0;s<o.length;s++)if(AV.User.current().attributes.username===o[s].attributes.username){for(var n=JSON.parse(o[s].attributes.content),i=0;i<n.length;i++){var a=n[i].date,r=Number(a)+e-1,d=t.todo.dates[r].todolist;t.todo.dates[r].finish=!0,d.push({date:n[i].date,title:n[i].title,done:n[i].done})}var l=(new Date).getDate();t.todo.todolist=t.todo.dates[l+e-1].todolist}},function(t){console.error(t)})}}}}},55:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(2),n=o(23),i=o.n(n),a=o(24),r=(o.n(a),o(26)),d=(o.n(r),o(25)),l=(o.n(d),o(28)),c=o.n(l),u=o(27);o.n(u);s.default.use(i.a),s.default.config.productionTip=!1,new s.default({el:"#app",template:"<App/>",components:{App:c.a},data:{newTodo:"",todoList:[]}})},77:function(t,e){},79:function(t,e,o){t.exports=o.p+"static/img/todolist.5bf5009.jpg"},80:function(t,e,o){var s=o(7)(o(52),o(83),null,null,null);t.exports=s.exports},81:function(t,e,o){var s=o(7)(o(53),o(85),null,null,null);t.exports=s.exports},82:function(t,e,o){var s=o(7)(o(54),o(84),null,null,null);t.exports=s.exports},83:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"background"},[o("div",{staticClass:"bg-grey"},[o("div",{staticClass:"bg-grey-triangle"})]),t._v(" "),o("div",{staticClass:"bg-white"})])}]}},84:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"todo"},[s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.loginshow,expression:"loginshow"}],staticClass:"login"},[s("img",{attrs:{src:o(79),alt:""}}),t._v(" "),s("el-button",{staticClass:"el-register",attrs:{type:"text"},on:{click:function(e){t.loginshow=!t.loginshow,t.signInshow=!t.signInshow}}},[t._v("登 录")]),t._v(" "),s("el-button",{staticClass:"el-signIn",attrs:{type:"text"},on:{click:function(e){t.loginshow=!t.loginshow,t.registershow=!t.registershow}}},[t._v("注 册")]),t._v(" "),s("p",[t._v("Easiest way")]),t._v(" "),s("p",[t._v("to plan every day")])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.registershow,expression:"registershow"}],staticClass:"register"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){t.loginshow=!t.loginshow,t.registershow=!t.registershow}}}),t._v(" "),s("h4",[t._v("To-DoList")]),t._v(" "),s("p",[t._v("Join us !")]),t._v(" "),s("p",[t._v("Welcome you")]),t._v(" "),s("form",{staticClass:"register-form",attrs:{action:""}},[s("input",{attrs:{type:"text",placeholder:"Username",id:"registerUsername"}}),t._v(" "),s("input",{attrs:{type:"password",placeholder:"password",id:"registerPassword"}}),t._v(" "),s("input",{attrs:{type:"text",placeholder:"email",id:"registerEmail"}}),t._v(" "),s("el-button",{staticClass:"el-register",on:{click:[function(e){t.register()},function(e){t.registershow=!t.registershow,t.signInshow=!t.signInshow}]}},[t._v("register")])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.signInshow,expression:"signInshow"}],staticClass:"register"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){t.loginshow=!t.loginshow,t.signInshow=!t.signInshow}}}),t._v(" "),s("h4",[t._v("To-DoList")]),t._v(" "),s("p",[t._v("Hello there !")]),t._v(" "),s("p",[t._v("Welcome Back")]),t._v(" "),s("form",{staticClass:"register-form",attrs:{action:""}},[s("input",{attrs:{type:"text",placeholder:"Username",id:"signinEmail"}}),t._v(" "),s("input",{attrs:{type:"password",placeholder:"password",id:"signinPassword"}}),t._v(" "),s("el-button",{staticClass:"el-signin",on:{click:[function(e){t.login()},function(e){t.signInshow=!t.signInshow,t.todoshow=!t.todoshow}]}},[t._v("sign in")])],1)]),t._v(" "),s("transition",{attrs:{name:"el-fade-in"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.todoshow,expression:"todoshow"}],staticClass:"todo"},[s("i",{staticClass:"el-icon-plus",on:{click:t.add}}),t._v(" "),s("p",{staticClass:"day"},[t._v(t._s(t.todo.day))]),t._v(" "),s("p",{staticClass:"weekday"},[t._v(t._s(t.todo.weekday))]),t._v(" "),s("ol",{staticClass:"todos"},[s("li",[t.todo.canadd?s("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.newTodo,expression:"todo.newTodo"}],staticClass:"newtodo",attrs:{placeholder:"还要做什么？"},domProps:{value:t.todo.newTodo},on:{keypress:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.addTodo(e)},input:function(e){e.target.composing||(t.todo.newTodo=e.target.value)}}}):t._e()]),t._v(" "),t._l(t.todo.todolist,function(e){return s("li",{staticClass:"list"},[s("div",{staticClass:"todolist"},[s("el-checkbox",{model:{value:e.done,callback:function(t){e.done=t},expression:"todo.done"}}),t._v(" "),s("p",{class:{active:!0===e.done}},[t._v(t._s(e.title))])],1),t._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(o){t.removeTodo(e)}}})])})],2)])])],1)},staticRenderFns:[]}},85:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"calendar"},[o("i",{staticClass:"el-icon-arrow-left"},[t._v(" "+t._s(t.todo.year))]),t._v(" "),o("h4",{staticClass:"month"},[t._v(t._s(t.todo.Cmonth))]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"monthday"},t._l(t.todo.dates,function(e,s){return o("div",{ref:"menuItem",refInFor:!0,class:{past:!0===e.past,now:!0===e.now},on:{click:function(e){t.changeday(s)}}},[o("p",[t._v(t._s(e.date))]),t._v(" "),e.finish?o("div",{staticClass:"circular"}):t._e()])}))])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"weekday"},[o("div",[t._v("mo")]),t._v(" "),o("div",[t._v("tu")]),t._v(" "),o("div",[t._v("we")]),t._v(" "),o("div",[t._v("th")]),t._v(" "),o("div",[t._v("fr")]),t._v(" "),o("div",{staticClass:"weekend"},[t._v("sa")]),t._v(" "),o("div",{staticClass:"weekend"},[t._v("su")])])}]}},86:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("background"),t._v(" "),o("calendar",{attrs:{todo:t.todo}}),t._v(" "),o("todos",{attrs:{todo:t.todo}})],1)},staticRenderFns:[]}}},[55]);
//# sourceMappingURL=app.67b0e8718714cbabdf88.js.map